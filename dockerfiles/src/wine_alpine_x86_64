FROM alpine:latest
ENV WINEDEBUG=-all
RUN apk add wine innoextract 7zip
ADD https://bitbucket.org/ktakashi/sagittarius-scheme/downloads/setup_sagittarius_0.9.11_x64.exe /
ADD https://download.racket-lang.org/installers/8.13/racket-8.13-x86_64-win32-cs.exe /
RUN wine hostname
RUN innoextract setup_sagittarius_0.9.11_x64.exe
RUN 7z racket-8.13-x86_64-win32-cs.exe -y
WORKDIR /workdir
RUN apk add bash make
ENTRYPOINT ["bash", "/workdir/test-sagittarius-container-wine.sh"]
